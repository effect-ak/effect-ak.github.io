import{aM as X,aN as q,aO as ee,aP as te,aQ as ne,aR as ae,p as oe,N as se,d as $,Y as O,Z as I,_ as k,$ as le,a0 as y,aS as T,ag as re,aT as p,aU as s,aa as b,aV as m,ad as ce,a9 as d,aW as i,aX as A,aY as ie,aZ as j,a_ as me,a$ as ue,a8 as S,a4 as de,as as v,b0 as pe,b1 as _,ai as t,aj as fe,a1 as ge,ak as Ee,al as he,a6 as w,am as P,b2 as H,y as ye,b3 as be,b4 as ve,b5 as xe,b6 as Ne,aK as Se,aL as we}from"./footer-DIRgc8hI.js";const x=Symbol.for("effect/DateTime"),Me={[x]:x,pipe(){return oe(this,arguments)},[se](){return this.toString()},toJSON(){return L(this).toJSON()}},Ce={...Me,_tag:"Utc",[ee](){return te(this,ne(this.epochMillis))},[ae](e){return M(e)&&e._tag==="Utc"&&this.epochMillis===e.epochMillis},toString(){return`DateTime.Utc(${L(this).toJSON()})`}},M=e=>X(e,x),De=e=>M(e[0]),F=e=>{const n=Object.create(Ce);return n.epochMillis=e,Object.defineProperty(n,"partsUtc",{value:void 0,enumerable:!1,writable:!0}),n},g=e=>{const n=e.getTime();if(Number.isNaN(n))throw new q("Invalid date");return F(n)},ke=e=>{if(M(e))return e;if(e instanceof Date)return g(e);if(typeof e=="object"){const n=new Date(0);return $e(n,e),g(n)}else if(typeof e=="string"&&!Te(e))return g(new Date(e+"Z"));return g(new Date(e))},Te=e=>/Z|[+-]\d{2}$|[+-]\d{2}:\d{2}$|\]$/.test(e),je=()=>F(Date.now()),Pe=$(2,(e,n)=>R(n)-R(e)),L=e=>new Date(e.epochMillis),Re=e=>{if(e._tag==="Utc")return new Date(e.epochMillis);if(e.zone._tag==="Offset")return new Date(e.epochMillis+e.zone.offset);if(e.adjustedEpochMillis!==void 0)return new Date(e.adjustedEpochMillis);const n=e.zone.format.formatToParts(e.epochMillis).filter(o=>o.type!=="literal"),a=new Date(0);return a.setUTCFullYear(Number(n[2].value),Number(n[0].value)-1,Number(n[1].value)),a.setUTCHours(Number(n[3].value),Number(n[4].value),Number(n[5].value),Number(n[6].value)),e.adjustedEpochMillis=a.getTime(),a},Ue=e=>{const n=Math.abs(e);let a=Math.floor(n/(60*60*1e3)),o=Math.round(n%(60*60*1e3)/(60*1e3));return o===60&&(a+=1,o=0),`${e<0?"-":"+"}${String(a).padStart(2,"0")}:${String(o).padStart(2,"0")}`},R=e=>e.epochMillis,$e=(e,n)=>{if(n.year!==void 0&&e.setUTCFullYear(n.year),n.month!==void 0&&e.setUTCMonth(n.month-1),n.day!==void 0&&e.setUTCDate(n.day),n.weekDay!==void 0){const a=n.weekDay-e.getUTCDay();e.setUTCDate(e.getUTCDate()+a)}n.hours!==void 0&&e.setUTCHours(n.hours),n.minutes!==void 0&&e.setUTCMinutes(n.minutes),n.seconds!==void 0&&e.setUTCSeconds(n.seconds),n.millis!==void 0&&e.setUTCMilliseconds(n.millis)},Oe=e=>e._tag==="Named"?e.id:Ue(e.offset),Ie=$(De,(e,n)=>{try{return new Intl.DateTimeFormat(n==null?void 0:n.locale,{timeZone:e._tag==="Utc"?"UTC":Oe(e.zone),...n}).format(e.epochMillis)}catch{return new Intl.DateTimeFormat(n==null?void 0:n.locale,{timeZone:"UTC",...n}).format(Re(e))}}),N=ke,z=je,Ae=Pe,U=Ie;class Z extends O()("ResumeEditorProvider",{effect:I(function*(){const n=yield*k,a=yield*y;yield*re("ResumeEditorProvider"),(yield*T).languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!0,trailingCommas:"ignore"});const l=()=>{};return{model:a,bindEditor:n.bindEditor,changeResumeSection:l}}),dependencies:[k.Default.pipe(le(y.json)),T.Default]}){}const J=/https:\/\//,B=["programming language","cloud computing","testing","framework","frontend","database","devops tool","collaboration tool","other"];class _e extends p("ProjectTechnology")({id:s,name:s,category:b(...B),display:b("force","hide").pipe(m),version:s.pipe(m),url:s.pipe(m)}){}class He extends p("ProjectDetails")({order:ce,client:d({name:s,description:s}).pipe(m),title:s,stack:s.pipe(i),tools:s.pipe(i),roles:s.pipe(i),achivements:d({technical:s,human:s.pipe(m)}).pipe(i)}){}class Fe extends p("EmploymentRecord")({position:s,workType:b("hybrid","on-site","remote"),companyName:s,companyDescription:s,website:s.pipe(A(J)),start:s,end:s.pipe(m),location:d({city:s,country:s,timezone:s}).pipe(ie),projects:He.pipe(i)}){get sortedProjects(){return[...this.projects].sort((n,a)=>a.order-n.order)}isMonthPast(n){const a=j(z().epochMillis),o=j(N(this.start).epochMillis);return me(o)(a).pipe(ue)>n*30}}class Le extends p("Me")({name:s,coverLetter:d({position:s,content:s.pipe(i)}).pipe(m),expertise:s.pipe(i),location:s.pipe(m),phone:s.pipe(m),email:s,profiles:d({url:s.pipe(A(J)),icon:s}).pipe(i),expertSummary:s.pipe(i)}){}class V extends p("ResumeObject")({$schema:s.pipe(m),me:Le,technologies:_e.pipe(i),employmentHistory:Fe.pipe(i)}){}class Y extends O()("StoreProvider",{effect:I(function*(){return{loadStoredResume:ze,exampleResume:yield*W()}}),dependencies:[]}){}const ze=S("load stored resume")(function*(){const e=[];if(Object.keys(window.localStorage).length==0){const n=yield*W();n&&localStorage.setItem("example",JSON.stringify(n,void 0,2))}for(const n of Object.keys(localStorage))localStorage.getItem(n)&&e.push({id:n,name:n});return e}),W=S("get example resume")(function*(){const e=yield*de("/resume/john-doe.jsonc").pipe(v(a=>pe(a)));return!e||typeof e!="object"?void 0:("$schema"in e&&delete e.$schema,yield*_(V)(e))});S("save resume")(function*(){const{getCode:e,model:n}=yield*y;yield*e(),localStorage.setItem("",n.getValue())});const K=t.createContext(null),G=t.createContext(null),Ze=fe(Z.Default,Y.Default).pipe(ge(Ee)),Je=he(Ze);async function Be(){const e=await Je.runtimeEffect.pipe(w),n=P(e.context,Z),a=P(e.context,Y);return{editor:n,store:a}}function C(){const e=t.useContext(K);if(!e)throw Error("App context is undefined");return e}function D(){const e=t.useContext(G);if(!e)throw Error("App state is undefined");return e}function Ve(){const{currentResume:e,availableResumes:n}=D();return t.createElement(t.Fragment,null,t.createElement("label",{className:"font-light text-sm",htmlFor:"resumeSelect"},"Current resume:"),t.createElement("select",{id:"resumeSelect",className:"self-start select",value:e,onChange:a=>{}},n.map(a=>t.createElement("option",{value:a.id,key:a.id},a.name))))}const Ye=[{id:"all",name:"All together"},{id:"me",name:"Me"},{id:"employmentHistory",name:"My Employment"},{id:"technologies",name:"Tecnologies"}],We=[{id:"editor",name:"Editor"},{id:"view",name:"View"}];function Ke(){const{currentMode:e,changeMode:n}=D();return t.createElement("div",{className:"mx-auto flex gap-3"},We.map(a=>t.createElement("label",{key:a.id,className:"hover:cursor-pointer text-lg "+(a.id===e?"text-orange-400 border px-3":"hover:text-orange-300")},t.createElement("input",{type:"radio",className:"appearance-none",value:a.id,checked:e===a.id,onChange:()=>n(a.id)})," ",a.name)))}function Ge(){return t.createElement("div",{className:"no-print pb-2 flex gap-2 justify-center items-baseline md:w-3/4"},t.createElement(Ve,null),t.createElement(Ke,null),t.createElement(Qe,null))}function Qe(){const{currentMode:e}=D();return t.createElement("button",{onClick:()=>window.print(),hidden:e!="view",className:"no-print hover:cursor-pointer fixed top-8 right-20 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full shadow-lg"},"Print")}function Xe(){const e=C(),n=()=>{const a=e.editor.model.model.getValue();console.log("code",a)};return t.createElement("button",{className:"btn bg-sky-500 hover:bg-sky-700 text-sm",onClick:()=>n()},"Duplicate")}function qe(){return t.createElement("button",{className:"btn bg-[#DC382D] hover:bg-[#B93224]",onClick:()=>{},"x-show":"availableResumes.length > 1"},"Delete")}function et(){const[e,n]=t.useState("all"),a=o=>{n(o)};return t.createElement(t.Fragment,null,t.createElement("label",{className:"font-light text-sm ml-auto",id:"resumeSection"},"Current section:"),t.createElement("select",{id:"resumeSection",className:"self-end select",value:e,onChange:o=>a(o.target.value)},Ye.map((o,l)=>t.createElement("option",{value:o.id,key:l},o.name))))}function tt(){const e=C();return t.useEffect(()=>{const n=e.editor.bindEditor();return n.layout({height:100,width:10}),()=>{n.dispose()}},[e]),t.createElement(t.Fragment,null,t.createElement("div",{className:"flex gap-2 pb-2 items-end"},t.createElement(Xe,null),t.createElement(qe,null),t.createElement(et,null)),t.createElement("div",{className:"w-full h-screen",id:"code-editor"}))}function nt({resume:e}){const n=e.me.coverLetter;return t.createElement("div",null,rt(e),n?t.createElement("div",null,t.createElement("div",{className:"section-header"},t.createElement("span",{id:"label"},`Why I'm the Right Choice for "`,n.position,'"')),t.createElement("div",{className:"p-2 bg-so"},n.content.map(a=>t.createElement("p",{dangerouslySetInnerHTML:{__html:a}})))):null,t.createElement("div",{className:"section-header"},t.createElement("span",{id:"label"},"Summary")),t.createElement("div",{className:"bg-so p-2"},e.me.expertSummary.map(a=>t.createElement("p",{dangerouslySetInnerHTML:{__html:a}}))),t.createElement("div",{className:"section-header"},t.createElement("span",{id:"label"},"Skills")),t.createElement("div",{className:"flex flex-wrap gap-1"},ut(e).map(([a,o])=>t.createElement("div",{key:a,className:"flex items-center gap-1"},t.createElement("span",{className:"uppercase font-medium"},a,":"),o.map((l,r)=>t.createElement("span",{key:r,className:"bg-so p-1 text-xs"},l.technology.name))))),t.createElement("div",{className:"section-header pt-1"},t.createElement("span",{id:"label"},"Employment history")),t.createElement("div",{id:"employment"},it(e)))}function at(e){var n;return t.createElement("div",{className:"flex gap-2 items-baseline"},t.createElement("span",{className:"text-2xl font-thin"},"Software Engineer"),t.createElement("span",{className:"text-base"},"Expertise: ",(n=e.me)==null?void 0:n.expertise.join("/")))}function ot(e){return t.createElement("div",{className:"flex text-sm"},t.createElement("span",null,e.position),t.createElement("span",{className:"font-extralight"},"· ",e.location.city,", ",e.location.country," · ",e.workType))}function st(e){return t.createElement("span",null,t.createElement("a",{target:"_blank",className:"text-sky-600 font-medium",href:e.website},e.companyName)," · ",e.companyDescription)}function lt(e){return t.createElement("span",null,e.stack.map(n=>t.createElement("span",{className:"bg-so py-1 px-1 mr-1 text-sm"},n)))}function rt(e){return t.createElement("div",{id:"head",className:"pb-4"},t.createElement("div",{className:"text-4xl font-thin"},e.me.name),t.createElement("div",{className:"text-lg font-light"},at(e)),t.createElement("div",{className:"flex gap-1.5 text-sm font-extralight"},t.createElement("span",null,e.me.location),t.createElement("div",null,t.createElement("span",{className:"fa-regular fa-envelope"}),t.createElement("a",{href:`mailto:${e.me.email}`}," ",e.me.email)),t.createElement("div",null,t.createElement("span",{className:"fa-solid fa-mobile-screen-button"}),t.createElement("a",{href:`tel:${e.me.phone}`}," ",e.me.phone))),t.createElement("div",{className:"pt-1"},e.me.profiles.map(n=>{const a=`fa-${n.icon.split(" ").at(0)}`;return t.createElement("a",{className:"inline-block py-2 px-1",href:n.url,target:"_blank",rel:"noopener noreferrer"},t.createElement("span",{className:`fa-brands fa-lg ${a}`,style:{color:n.icon.split(" ").at(1)}}))})))}function ct(e,n){let a="project no-break pb-3";return n||(a+=" border-b-1 border-gray-300 border-dashed mb-2"),t.createElement("div",{className:a},t.createElement("div",{className:"flex"},t.createElement("div",{className:"mb-0.5"},t.createElement("span",{className:"font-medium"},"Project: "),t.createElement("span",null,e.title)),t.createElement("div",{className:"ml-auto"},t.createElement("span",{className:"font-medium"},"Roles: "),t.createElement("span",null,e.roles.join("/")))),t.createElement("span",{className:"font-medium"},"Stack:"),t.createElement("span",null,lt(e)),t.createElement("ul",{className:"list-disc pt-2 pl-10 text-sm"},e.achivements.map(o=>t.createElement("li",null,o.human??o.technical))))}function it(e){return t.createElement("div",{id:"employment"},e.employmentHistory.map(n=>{const a=n.isMonthPast(60);let o="border-b-1 border-gray-300 mb-2 p-2";a&&(o+=" bg-neutral-100");const l=H(n.projects.flatMap(r=>r.roles),(r,c)=>r.toLowerCase()==c.toLocaleLowerCase()).join("/");return t.createElement("div",{className:o},t.createElement("div",{className:"flex"},t.createElement("span",{className:"font-extralight text-sm"},st(n)),t.createElement("span",{className:"ml-auto"},mt(n))),t.createElement("span",{className:"block"},ot(n)),a?t.createElement("div",null,t.createElement("span",{className:"font-medium"},"Roles: "),t.createElement("span",null,l)):t.createElement("div",{className:"flex flex-col"},n.sortedProjects.map((r,c)=>ct(r,c==n.projects.length-1))))}))}function mt(e){const n=N(e.start),a=e.end?N(e.end):z(),o=Ae(n,a),l=365.25*24*60*60*1e3,r=l/12;let c=Math.floor(o/l),u=Math.ceil(o%l/r);u===12&&(c=c+1,u=0);const f=U(n,{month:"short",year:"numeric"}),E=U(a,{month:"short",year:"numeric"});let h=`${u} mos`;c&&(h=`${c} yr ${h}`);const Q=e.end?t.createElement("span",null,E," · ",h):t.createElement("span",{className:"font-medium"},"now");return t.createElement("span",{className:"font-light text-sm"},f," - ",Q)}function ut(e){var o;const n=(o=e.employmentHistory)==null?void 0:o.flatMap(l=>l.projects.flatMap(r=>[...r.stack,...r.tools].flatMap(c=>{var f;const u=(f=e.technologies)==null?void 0:f.find(E=>E.id==c);return!u||u.display=="hide"?[]:[{code:c,category:u.category,technology:u}]})));return n?ye([...n,...e.technologies.filter(l=>l.display==="force").map(l=>({code:l.id,category:l.category,technology:l}))],H((l,r)=>l.code==r.code),xe(l=>l.technology.category),l=>Object.entries(l),be(l=>B.findIndex(r=>r==l[0]),ve)):(console.warn("Skill categories not found"),[])}function dt(){const{editor:e}=C(),[n,a]=t.useState();return t.useEffect(()=>{e.model.getCode().pipe(v(o=>_(Ne(V))(o)),v(a),w)},[e]),t.createElement(t.Fragment,null,n&&t.createElement(nt,{resume:n}))}function pt(e){const[n,a]=t.useState("view"),[o,l]=t.useState([]);t.useEffect(()=>{e.appContext.store.loadStoredResume().pipe(w).then(l)},[e.appContext.store]),t.useEffect(()=>{e.appContext.editor.model.model.setValue(JSON.stringify(e.appContext.store.exampleResume,null,2))},[e.appContext]);const r={currentMode:n,changeMode:c=>{a(c)},availableResumes:o,currentResume:""};return t.createElement(K,{value:e.appContext},t.createElement(G,{value:r},t.createElement(Ge,null),n=="editor"&&t.createElement(tt,null),n=="view"&&t.createElement(dt,null),t.createElement(we,null)))}function ft(e,n){Se.createRoot(n).render(t.createElement(t.StrictMode,null,t.createElement(pt,{appContext:e})))}async function gt(){const e=await Be(),n=document.getElementById("root");if(!n){console.warn("root div container");return}ft(e,n)}gt();
