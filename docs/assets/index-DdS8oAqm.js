import{b7 as e,aW as d,aX as g,aY as c,aZ as E,a_ as i,by as s,b8 as p,a$ as f,b9 as b,ba as v,bb as h,bc as x,bz as C,bx as y}from"./editor-DyfgHjHZ.js";const m=[{id:1,name:"Резюме 1"},{id:2,name:"Резюме 2"}];function w(){var a;const[n,t]=e.useState((a=m[0])==null?void 0:a.id);return e.createElement(e.Fragment,null,e.createElement("label",{className:"font-light text-sm",htmlFor:"resumeSelect"},"Current resume:"),e.createElement("select",{id:"resumeSelect",className:"self-start select",value:n,onChange:o=>t(1)},m.map(o=>e.createElement("option",{value:o.id,key:o.id},o.name))))}const S=[{id:"all",name:"All together"},{id:"me",name:"Me"},{id:"employmentHistory",name:"My Employment"},{id:"technologies",name:"Tecnologies"}],N=[{id:"editor",name:"Editor"},{id:"view",name:"View"}];function R(){const[n,t]=e.useState("view");return e.createElement("div",{className:"mx-auto flex gap-3"},N.map(a=>e.createElement("label",{key:a.id,className:"hover:cursor-pointer text-lg "+(a.id===n?"text-orange-400 border px-3":"hover:text-orange-300")},e.createElement("input",{type:"radio",className:"appearance-none",value:a.id,checked:n===a.id,onChange:()=>t(a.id)})," ",a.name)))}function D(){return e.createElement("div",{className:"no-print pb-2 flex gap-2 justify-center items-baseline md:w-3/4"},e.createElement(w,null),e.createElement(R,null),e.createElement(P,null))}function P(){return e.createElement("button",{onClick:()=>window.print(),"x-show":"mode == 'view'",className:"no-print hover:cursor-pointer fixed top-8 right-20 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full shadow-lg"},"Print")}class u extends d()("ResumeEditorProvider",{effect:g(function*(){const t=yield*c,a=yield*i;(yield*s).languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!0,trailingCommas:"ignore"});const r=()=>{};return{getCode:a.getCode,bindEditor:t.bindEditor,changeResumeSection:r}}),dependencies:[c.Default.pipe(E(i.json)),s.Default]}){}const l=e.createContext(null),k=p(u.Default).pipe(f(b)),M=v(k);async function A(){const n=await M.runtimeEffect.pipe(h),t=x(n.context,u);return{currentResume:C("resume")??"example",availableResumes:[],editor:t}}function B(){const n=e.useContext(l);if(!n)throw Error("context not defined");const t=()=>{n.editor.getCode().then(a=>{console.log("code",a)})};return e.createElement("button",{className:"btn bg-sky-500 hover:bg-sky-700 text-sm",onClick:()=>t()},"Duplicate")}function F(){return e.createElement("button",{className:"btn bg-[#DC382D] hover:bg-[#B93224]",onClick:()=>{},"x-show":"availableResumes.length > 1"},"Delete")}function j(){const[n,t]=e.useState("all"),a=o=>{t(o)};return e.createElement(e.Fragment,null,e.createElement("label",{className:"font-light text-sm ml-auto",id:"resumeSection"},"Current section:"),e.createElement("select",{id:"resumeSection",className:"self-end select",value:n,onChange:o=>a(o.target.value)},S.map((o,r)=>e.createElement("option",{value:o.id,key:r},o.name))))}function I(){const n=e.useContext(l);if(!n)throw Error("Context not provided");return e.useEffect(()=>{const t=n.editor.bindEditor();return t==null||t.layout({height:500,width:10}),()=>{t==null||t.dispose()}},[n]),e.createElement(e.Fragment,null,e.createElement("div",{className:"flex gap-2 pb-2 items-end"},e.createElement(B,null),e.createElement(F,null),e.createElement(j,null)),e.createElement("div",{className:"w-full h-screen",id:"code-editor"}))}function O(){return e.createElement(e.Fragment,null,e.createElement(D,null),e.createElement(I,null),!1)}function T(n){const t=document.getElementById("root");if(!t){console.warn("root div container");return}y.createRoot(t).render(e.createElement(e.StrictMode,null,e.createElement(l,{value:n},e.createElement(O,null))))}async function _(){const n=await A();T(n)}_();
