import{aM as X,aN as q,aO as ee,aP as te,aQ as ne,aR as ae,p as oe,N as se,d as $,Y as I,Z as O,_ as D,$ as le,a0 as y,aS as T,ag as re,aT as p,aU as l,aa as b,aV as u,ad as ce,a9 as d,aW as m,aX as A,aY as ie,aZ as P,a_ as me,a$ as ue,a8 as S,a4 as de,as as v,b0 as pe,b1 as _,ai as n,aj as fe,a1 as ge,ak as Ee,al as he,a6 as M,am as j,b2 as H,y as ye,b3 as be,b4 as ve,b5 as Ne,b6 as xe,aK as Se,aL as Me}from"./footer-BOnGMojs.js";const N=Symbol.for("effect/DateTime"),we={[N]:N,pipe(){return oe(this,arguments)},[se](){return this.toString()},toJSON(){return z(this).toJSON()}},ke={...we,_tag:"Utc",[ee](){return te(this,ne(this.epochMillis))},[ae](e){return w(e)&&e._tag==="Utc"&&this.epochMillis===e.epochMillis},toString(){return`DateTime.Utc(${z(this).toJSON()})`}},w=e=>X(e,N),Ce=e=>w(e[0]),F=e=>{const t=Object.create(ke);return t.epochMillis=e,Object.defineProperty(t,"partsUtc",{value:void 0,enumerable:!1,writable:!0}),t},g=e=>{const t=e.getTime();if(Number.isNaN(t))throw new q("Invalid date");return F(t)},De=e=>{if(w(e))return e;if(e instanceof Date)return g(e);if(typeof e=="object"){const t=new Date(0);return $e(t,e),g(t)}else if(typeof e=="string"&&!Te(e))return g(new Date(e+"Z"));return g(new Date(e))},Te=e=>/Z|[+-]\d{2}$|[+-]\d{2}:\d{2}$|\]$/.test(e),Pe=()=>F(Date.now()),je=$(2,(e,t)=>R(t)-R(e)),z=e=>new Date(e.epochMillis),Re=e=>{if(e._tag==="Utc")return new Date(e.epochMillis);if(e.zone._tag==="Offset")return new Date(e.epochMillis+e.zone.offset);if(e.adjustedEpochMillis!==void 0)return new Date(e.adjustedEpochMillis);const t=e.zone.format.formatToParts(e.epochMillis).filter(o=>o.type!=="literal"),a=new Date(0);return a.setUTCFullYear(Number(t[2].value),Number(t[0].value)-1,Number(t[1].value)),a.setUTCHours(Number(t[3].value),Number(t[4].value),Number(t[5].value),Number(t[6].value)),e.adjustedEpochMillis=a.getTime(),a},Ue=e=>{const t=Math.abs(e);let a=Math.floor(t/(60*60*1e3)),o=Math.round(t%(60*60*1e3)/(60*1e3));return o===60&&(a+=1,o=0),`${e<0?"-":"+"}${String(a).padStart(2,"0")}:${String(o).padStart(2,"0")}`},R=e=>e.epochMillis,$e=(e,t)=>{if(t.year!==void 0&&e.setUTCFullYear(t.year),t.month!==void 0&&e.setUTCMonth(t.month-1),t.day!==void 0&&e.setUTCDate(t.day),t.weekDay!==void 0){const a=t.weekDay-e.getUTCDay();e.setUTCDate(e.getUTCDate()+a)}t.hours!==void 0&&e.setUTCHours(t.hours),t.minutes!==void 0&&e.setUTCMinutes(t.minutes),t.seconds!==void 0&&e.setUTCSeconds(t.seconds),t.millis!==void 0&&e.setUTCMilliseconds(t.millis)},Ie=e=>e._tag==="Named"?e.id:Ue(e.offset),Oe=$(Ce,(e,t)=>{try{return new Intl.DateTimeFormat(t==null?void 0:t.locale,{timeZone:e._tag==="Utc"?"UTC":Ie(e.zone),...t}).format(e.epochMillis)}catch{return new Intl.DateTimeFormat(t==null?void 0:t.locale,{timeZone:"UTC",...t}).format(Re(e))}}),x=De,L=Pe,Ae=je,U=Oe;class Z extends I()("ResumeEditorProvider",{effect:O(function*(){const t=yield*D,a=yield*y;yield*re("ResumeEditorProvider"),(yield*T).languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!0,trailingCommas:"ignore"});const s=()=>{};return{model:a,bindEditor:t.bindEditor,changeResumeSection:s}}),dependencies:[D.Default.pipe(le(y.json)),T.Default]}){}const J=/https:\/\//,B=["programming language","cloud computing","testing","framework","frontend","database","devops tool","collaboration tool","other"];class _e extends p("ProjectTechnology")({id:l,name:l,category:b(...B),display:b("force","hide").pipe(u),version:l.pipe(u),url:l.pipe(u)}){}class He extends p("ProjectDetails")({order:ce,client:d({name:l,description:l}).pipe(u),title:l,stack:l.pipe(m),tools:l.pipe(m),roles:l.pipe(m),achivements:d({technical:l,human:l.pipe(u)}).pipe(m)}){}class Fe extends p("EmploymentRecord")({position:l,workType:b("hybrid","on-site","remote"),companyName:l,companyDescription:l,website:l.pipe(A(J)),start:l,end:l.pipe(u),location:d({city:l,country:l,timezone:l}).pipe(ie),projects:He.pipe(m)}){get sortedProjects(){return[...this.projects].sort((t,a)=>a.order-t.order)}isMonthPast(t){const a=P(L().epochMillis),o=P(x(this.start).epochMillis);return me(o)(a).pipe(ue)>t*30}}class ze extends p("Me")({name:l,coverLetter:d({position:l,content:l.pipe(m)}).pipe(u),expertise:l.pipe(m),location:l.pipe(u),phone:l.pipe(u),email:l,profiles:d({url:l.pipe(A(J)),icon:l}).pipe(m),expertSummary:l.pipe(m)}){}class V extends p("ResumeObject")({$schema:l.pipe(u),me:ze,technologies:_e.pipe(m),employmentHistory:Fe.pipe(m)}){}class Y extends I()("StoreProvider",{effect:O(function*(){return{loadStoredResume:Le,exampleResume:yield*W()}}),dependencies:[]}){}const Le=S("load stored resume")(function*(){const e=[];if(Object.keys(window.localStorage).length==0){const t=yield*W();t&&localStorage.setItem("example",JSON.stringify(t,void 0,2))}for(const t of Object.keys(localStorage))localStorage.getItem(t)&&e.push({id:t,name:t});return e}),W=S("get example resume")(function*(){const e=yield*de("/resume/john-doe.jsonc").pipe(v(a=>pe(a)));return!e||typeof e!="object"?void 0:("$schema"in e&&delete e.$schema,yield*_(V)(e))});S("save resume")(function*(){const{getCode:e,model:t}=yield*y;yield*e(),localStorage.setItem("",t.getValue())});const K=n.createContext(null),G=n.createContext(null),Ze=fe(Z.Default,Y.Default).pipe(ge(Ee)),Je=he(Ze);async function Be(){const e=await Je.runtimeEffect.pipe(M),t=j(e.context,Z),a=j(e.context,Y);return{editor:t,store:a}}function k(){const e=n.useContext(K);if(!e)throw Error("App context is undefined");return e}function C(){const e=n.useContext(G);if(!e)throw Error("App state is undefined");return e}function Ve(){const{currentResume:e,availableResumes:t}=C();return n.createElement(n.Fragment,null,n.createElement("label",{className:"font-light text-sm",htmlFor:"resumeSelect"},"Current resume:"),n.createElement("select",{id:"resumeSelect",className:"self-start select",value:e,onChange:a=>{}},t.map(a=>n.createElement("option",{value:a.id,key:a.id},a.name))))}const Ye=[{id:"all",name:"All together"},{id:"me",name:"Me"},{id:"employmentHistory",name:"My Employment"},{id:"technologies",name:"Tecnologies"}],We=[{id:"editor",name:"Editor"},{id:"view",name:"View"}];function Ke(){const{currentMode:e,changeMode:t}=C();return n.createElement("div",{className:"mx-auto flex gap-3"},We.map(a=>n.createElement("label",{key:a.id,className:"hover:cursor-pointer text-lg "+(a.id===e?"text-orange-400 border px-3":"hover:text-orange-300")},n.createElement("input",{type:"radio",className:"appearance-none",value:a.id,checked:e===a.id,onChange:()=>t(a.id)})," ",a.name)))}function Ge(){return n.createElement("div",{className:"no-print pb-2 flex gap-2 justify-center items-baseline"},n.createElement(Ve,null),n.createElement(Ke,null),n.createElement(Qe,null))}function Qe(){const{currentMode:e}=C();return n.createElement("button",{onClick:()=>window.print(),hidden:e!="view",className:"no-print hover:cursor-pointer bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full"},"Print")}function Xe(){const e=k(),t=()=>{const a=e.editor.model.model.setValue(JSON.stringify(e.store.exampleResume,null,2));console.log("code",a)};return n.createElement("button",{className:"btn bg-sky-500 hover:bg-sky-700 text-sm",onClick:()=>t()},"Duplicate")}function qe(){return n.createElement("button",{className:"btn bg-[#DC382D] hover:bg-[#B93224]",onClick:()=>{},"x-show":"availableResumes.length > 1"},"Delete")}function et(){const[e,t]=n.useState("all"),a=o=>{t(o)};return n.createElement(n.Fragment,null,n.createElement("label",{className:"font-light text-sm ml-auto",id:"resumeSection"},"Current section:"),n.createElement("select",{id:"resumeSection",className:"self-end select",value:e,onChange:o=>a(o.target.value)},Ye.map((o,s)=>n.createElement("option",{value:o.id,key:s},o.name))))}function tt(){const e=k();return n.useEffect(()=>{const t=e.editor.bindEditor();return t.layout({height:100,width:10}),()=>{console.log("editor umnounting"),t.dispose()}},[e]),n.createElement(n.Fragment,null,n.createElement("div",{className:"flex gap-2 pb-2 items-end"},n.createElement(Xe,null),n.createElement(qe,null),n.createElement(et,null)),n.createElement("div",{className:"w-full h-screen",id:"code-editor"}))}function nt({resume:e}){const t=e.me.coverLetter;return n.createElement("div",null,rt(e),t?n.createElement("div",null,n.createElement("div",{className:"section-header"},n.createElement("span",{id:"label"},`Why I'm the Right Choice for "`,t.position,'"')),n.createElement("div",{className:"p-2 bg-so"},t.content.map((a,o)=>n.createElement("p",{key:o,dangerouslySetInnerHTML:{__html:a}})))):null,n.createElement("div",{className:"section-header"},n.createElement("span",{id:"label"},"Summary")),n.createElement("div",{className:"bg-so p-2"},e.me.expertSummary.map((a,o)=>n.createElement("p",{key:o,dangerouslySetInnerHTML:{__html:a}}))),n.createElement("div",{className:"section-header"},n.createElement("span",{id:"label"},"Skills")),n.createElement("div",{className:"flex flex-wrap gap-1"},ut(e).map(([a,o])=>n.createElement("div",{key:a,className:"flex items-center gap-1"},n.createElement("span",{className:"uppercase font-medium"},a,":"),o.map((s,c)=>n.createElement("span",{key:c,className:"bg-so p-1 text-xs"},s.technology.name))))),n.createElement("div",{className:"section-header pt-1"},n.createElement("span",{id:"label"},"Employment history")),n.createElement("div",{id:"employment"},it(e)))}function at(e){var t;return n.createElement("div",{className:"flex gap-2 items-baseline"},n.createElement("span",{className:"text-2xl font-thin"},"Software Engineer"),n.createElement("span",{className:"text-base"},"Expertise: ",(t=e.me)==null?void 0:t.expertise.join("/")))}function ot(e){return n.createElement("div",{className:"flex text-sm"},n.createElement("span",null,e.position),n.createElement("span",{className:"font-extralight"},"路 ",e.location.city,", ",e.location.country," 路 ",e.workType))}function st(e){return n.createElement("span",null,n.createElement("a",{target:"_blank",className:"text-sky-600 font-medium",href:e.website},e.companyName)," 路 ",e.companyDescription)}function lt(e){return n.createElement("span",null,e.stack.map((t,a)=>n.createElement("span",{key:a,className:"bg-so py-1 px-1 mr-1 text-sm"},t)))}function rt(e){return n.createElement("div",{id:"head",className:"pb-4"},n.createElement("div",{className:"text-4xl font-thin"},e.me.name),n.createElement("div",{className:"text-lg font-light"},at(e)),n.createElement("div",{className:"flex gap-1.5 text-sm font-extralight"},n.createElement("span",null,e.me.location),n.createElement("div",null,n.createElement("span",{className:"fa-regular fa-envelope"}),n.createElement("a",{href:`mailto:${e.me.email}`}," ",e.me.email)),n.createElement("div",null,n.createElement("span",{className:"fa-solid fa-mobile-screen-button"}),n.createElement("a",{href:`tel:${e.me.phone}`}," ",e.me.phone))),n.createElement("div",{className:"pt-1"},e.me.profiles.map(t=>{const a=`fa-${t.icon.split(" ").at(0)}`;return n.createElement("a",{key:t.url,className:"inline-block py-2 px-1",href:t.url,target:"_blank",rel:"noopener noreferrer"},n.createElement("span",{className:`fa-brands fa-lg ${a}`,style:{color:t.icon.split(" ").at(1)}}))})))}function ct(e,t){let a="project no-break pb-3";return t||(a+=" border-b-1 border-gray-300 border-dashed mb-2"),n.createElement("div",{className:a,key:e.title},n.createElement("div",{className:"flex"},n.createElement("div",{className:"mb-0.5"},n.createElement("span",{className:"font-medium"},"Project: "),n.createElement("span",null,e.title)),n.createElement("div",{className:"ml-auto"},n.createElement("span",{className:"font-medium"},"Roles: "),n.createElement("span",null,e.roles.join("/")))),n.createElement("span",{className:"font-medium"},"Stack:"),n.createElement("span",null,lt(e)),n.createElement("ul",{className:"list-disc pt-2 pl-10 text-sm"},e.achivements.map((o,s)=>n.createElement("li",{key:s},o.human??o.technical))))}function it(e){return n.createElement("div",{id:"employment"},e.employmentHistory.map((t,a)=>{const o=t.isMonthPast(60);let s="border-b-1 border-gray-300 mb-2 p-2";o&&(s+=" bg-neutral-100");const c=H(t.projects.flatMap(r=>r.roles),(r,i)=>r.toLowerCase()==i.toLocaleLowerCase()).join("/");return n.createElement("div",{className:s,key:a},n.createElement("div",{className:"flex"},n.createElement("span",{className:"font-extralight text-sm"},st(t)),n.createElement("span",{className:"ml-auto"},mt(t))),n.createElement("span",{className:"block"},ot(t)),o?n.createElement("div",null,n.createElement("span",{className:"font-medium"},"Roles: "),n.createElement("span",null,c)):n.createElement("div",{className:"flex flex-col"},t.sortedProjects.map((r,i)=>ct(r,i==t.projects.length-1))))}))}function mt(e){const t=x(e.start),a=e.end?x(e.end):L(),o=Ae(t,a),s=365.25*24*60*60*1e3,c=s/12;let r=Math.floor(o/s),i=Math.ceil(o%s/c);i===12&&(r=r+1,i=0);const f=U(t,{month:"short",year:"numeric"}),E=U(a,{month:"short",year:"numeric"});let h=`${i} mos`;r&&(h=`${r} yr ${h}`);const Q=e.end?n.createElement("span",null,E," 路 ",h):n.createElement("span",{className:"font-medium"},"now");return n.createElement("span",{className:"font-light text-sm"},f," - ",Q)}function ut(e){var o;const t=(o=e.employmentHistory)==null?void 0:o.flatMap(s=>s.projects.flatMap(c=>[...c.stack,...c.tools].flatMap(r=>{var f;const i=(f=e.technologies)==null?void 0:f.find(E=>E.id==r);return!i||i.display=="hide"?[]:[{code:r,category:i.category,technology:i}]})));return t?ye([...t,...e.technologies.filter(s=>s.display==="force").map(s=>({code:s.id,category:s.category,technology:s}))],H((s,c)=>s.code==c.code),Ne(s=>s.technology.category),s=>Object.entries(s),be(s=>B.findIndex(c=>c==s[0]),ve)):(console.warn("Skill categories not found"),[])}function dt(){const{editor:e}=k(),[t,a]=n.useState();return n.useEffect(()=>{e.model.getCode().pipe(v(o=>_(xe(V))(o)),v(a),M)},[e]),n.createElement(n.Fragment,null,t&&n.createElement(nt,{resume:t}))}function pt(e){const[t,a]=n.useState("editor"),[o,s]=n.useState([]);n.useEffect(()=>{e.appContext.store.loadStoredResume().pipe(M).then(s)},[]);const c={currentMode:t,changeMode:r=>{a(r)},availableResumes:o,currentResume:""};return n.createElement(K,{value:e.appContext},n.createElement(G,{value:c},n.createElement(Ge,null),t=="editor"&&n.createElement(tt,null),t=="view"&&n.createElement(dt,null),n.createElement(Me,null)))}function ft(e,t){Se.createRoot(t).render(n.createElement(n.StrictMode,null,n.createElement(pt,{appContext:e})))}async function gt(){const e=await Be(),t=document.getElementById("root");if(!t){console.warn("root div container");return}console.log("initialized"),ft(e,t)}gt();
